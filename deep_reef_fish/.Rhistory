runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x=paste0(c(rep("\n&nbsp;",2),"Year"),collapse=""),
y=paste0(c("Fish density (# per 100 square meter)",rep("\n&nbsp;",1)),collapse=""),
title=unique(data_subset$scientific_name)) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x=paste0(c(rep("\n&nbsp;",2),"Year"),collapse=""),
y=paste0(c("Fish density (# per 100 square meter)",rep("\n&nbsp;",1)),collapse=""),
title=unique(fish_density$scientific_name)) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x=paste0("Year"),collapse=""),
y=paste0(c("Fish density (# per 100 square meter)"),
title=unique(fish_density$scientific_name)) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x=paste0("Year"),collapse=""),
y=paste0(c("Fish density (# per 100 square meter)"),
title=unique(fish_density$scientific_name)) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year"),
y="Fish density (# per 100 square meter)"
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)"
#title=unique(fish_density$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)"
title=unique(fish_density$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(fish_density, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(fish_density$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
species="all species"
species="all species"
data_subset  <- fish_density
if (species=="all species") {
data_subset <-data_subset %>%
group_by(year,site) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
mutate(scientific_name="All species")
} else {
data_subset <- subset(data_subset,scientific_name=="")
}
View(data_subset)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
species="Sebastes"
data_subset  <- fish_density
if (species=="all species") {
data_subset <-data_subset %>%
group_by(year,site) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
mutate(scientific_name="All species")
} else {
data_subset <- data_subset %>%
filter(scientific_name==species) %>%
group_by(year,site) %>%
summarise(density=sum(density)) %>%
ungroup()
}
View(data_subset)
species="Sebastes"
data_subset  <- fish_density
if (species=="all species") {
data_subset <-data_subset %>%
group_by(year,site) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
mutate(scientific_name="All species")
} else {
data_subset <- data_subset %>%
filter(scientific_name==species)
}
View(data_subset)
runApp()
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black")) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
View(data_subset)
runApp()
View(data_subset)
runApp()
View(fish_density)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim=c(1999,2014)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim=c(1999,2011)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(1999,2011)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(1999,2014)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(1998,2014)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(1995,2011)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(1995,2012)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
#xlim(1995,2012)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(min(year),max(year))+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(min(data_subset$year),max(data_subset$year))+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
#xlim(min(data_subset$year),max(data_subset$year))+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
ggplot(data_subset, aes(x=year, y=density))+
geom_bar(stat="identity",width=0.5) +
labs(x="Year",
y="Fish density (# per 100 square meter)",
title=unique(data_subset$scientific_name)
) +
xlim(min(data_subset$year)-1,max(data_subset$year)+1)+
theme(axis.text.x = element_text(size = 12),
axis.text.y=element_text(size=12),
axis.title=element_text(size=12),
panel.background =  element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
strip.text=element_text(size=12)) +
facet_grid(site ~ .)
runApp()
seq(1,4)
seq(1,10)
runApp()
seq(1,10,step=2)
?sep()
?seq()
seq(1,10,by=2)
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name, fill=0)
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup()
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name)
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup()
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name)
View(fish_density)
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name,fill=list(density=0))
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name,fill=0)
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name,fill=list(density=0))
View(fish_density)
fish_density <- data1 %>%
mutate(density=count/segment_length_m*2*100) %>%
filter(!is.na(density)) %>%
group_by(year,date,site,transect,segment,scientific_name) %>%
summarise(density=sum(density)) %>%
ungroup() %>%
complete(nesting(year,date,site,transect,segment),scientific_name,fill=list(density=0))%>%
group_by(year,site,scientific_name) %>%
summarise(density=mean(density)) %>%
ungroup()
View(fish_density)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
